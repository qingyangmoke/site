<h1 id="「tinyjs实战」骨骼动画">「Tiny.js实战」骨骼动画</h1>
<h2 id="前言">前言</h2>
<blockquote>
  <p>Tiny.js 是一款轻量级 HTML5 2D 游戏引擎，了解更多请移步<a href="http://tinyjs.net">官网</a>，这里就不再做详细的介绍了</p>
</blockquote>
<h2 id="准备工作">准备工作</h2>
<ol>
<li><p>安装 DragonBones Pro，一款开源免费的创建骨骼动画的工具，可以直接安装使用。具体使用方法请移步<a href="http://dragonbones.com/cn/index.html">官网</a></p></li>
<li><p>打开默认骨骼动画的示例，导出数据和纹理 (Dragon_ske.json、Dragon_tex.json、Dragon_tex.png)，使用方法请移步<a href="http://dragonbones.com/cn/index.html">官网</a></p></li>
<li><p>引入 Tiny.js 核心库 </p>
<pre><code class="HTML language-HTML"> &lt;script src="https://a.alipayobjects.com/g/tiny/tiny/1.0.2/tiny.js"&gt;&lt;/script&gt;</code></pre></li>
<li><p>引入 tiny-plugin-dragonbones 骨骼动画插件</p>
<pre><code class="HTML language-HTML"> &lt;script src="https://a.alipayobjects.com/g/tiny-plugins/tinyjs-plugin-dragonbones/0.0.1/index.js"&gt;&lt;/script&gt;</code></pre></li>
</ol>
<h2 id="开始干活">开始干活</h2>
<ol>
<li><p>首先我们把刚才导出的骨骼数据和纹理资源加载进来</p>
<pre><code class="js language-js">Tiny.Loader
  .add("dragonBonesData", "./resource/Dragon/Dragon_ske.json")
  .add("textureDataA", "./resource/Dragon/Dragon_tex.json")
  .add("textureA", "./resource/Dragon/Dragon_tex.png")
  .load(function () {
    initGame();
  });</code></pre></li>
<li><p>接下来我们初始化一个 Tiny Application</p>
<pre><code class=" js language- js">var config = {
  showFPS: true, // 显示帧频
  dpi: 1, // 分辨率
  renderOptions: {
    backgroundColor: 0x2a3145 // 画布背景色
  }
};
// 初始化App
var app = new Tiny.Application(config);
// 新建场景
var container = new Tiny.Container();
// 启动场景
app.run(container);</code></pre></li>
<li><p>终于到正题了，创建骨骼动画</p>
<pre><code class=" js language- js">//设置别名
var dragonBones = Tiny.DragonBones;
var resources = Tiny.Loader.resources;

/*+++++++++++ 创建骨骼动画 BEGIN +++++++++++*/

// 取出来骨骼数据
var dragonBonesData = resources["dragonBonesData"].data;
// 从资源中取出来骨骼纹理数据
var textureData = resources["textureDataA"].data;
// 从资源中取出来骨骼纹理图片
var texture = resources["textureA"].texture;

// 添加骨骼数据
dragonBones.addDragonBonesData(dragonBonesData);
// 添加纹理
dragonBones.addTextureAtlasData(textureData, texture);

// 创建一个骨骼精灵 Dragon为 DragonBones Pro中定义的骨骼名字
var armatureDisplay = dragonBones.buildArmatureDisplay('Dragon');

// 设置精灵在场景中的位置
armatureDisplay.x = app.renderer.width * 0.5;
armatureDisplay.y = app.renderer.height * 0.5 + 50;
armatureDisplay.scale.set(0.3, 0.3);

// 播放骨骼动画 DragonBones Pro 默认生成四个动作 fall、jump、stand、walk
var animationState = armatureDisplay.play('walk');

// 把骨骼对象添加到场景中
container.addChild(armatureDisplay);

/*+++++++++++ 创建骨骼动画 END   ++++++++++++*/</code></pre></li>
<li><p>搞定，就是这么简单！</p></li>
</ol>
<h2 id="有图有真相">有图有真相</h2>
<p><img src='https://gw.alipayobjects.com/zos/rmsportal/WIzZGaviupJrsuNiaddg.gif' /></p>
<blockquote>
  <p>本实例完整代码已托管到了 Github，<a href="https://github.com/qingyangmoke/blogs-tutorial/tree/master/tinyjs/dragonbones-1/">源码地址</a></p>
</blockquote>