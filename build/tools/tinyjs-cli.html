<h1 id="tinyjs-cli">tinyjs-cli</h1>
<h2 id="简介">简介</h2>
<p>Tiny.js 本地开发工具， 使用命令行快速创建游戏项目、 生成资源配置文件等。</p>
<h3 id="功能一览">功能一览</h3>
<pre><code class="bash language-bash">-h, --help          查看帮助信息
-V, --version       查看版本信息
init                初始化 Tiny.js 项目
plugin              初始化 Tiny.js 插件库
resource            Resouce.js 生成器</code></pre>
<h2 id="环境准备">环境准备</h2>
<ul>
<li>nodejs, npm</li>
</ul>
<h2 id="安装">安装</h2>
<p>使用 npm 安装 tinyjs-cli</p>
<pre><code class="bash language-bash">$ npm install tinyjs-cli -g</code></pre>
<h2 id="快速上手">快速上手</h2>
<h3 id="初始化-tinyjs-项目">初始化 Tiny.js 项目</h3>
<ol>
<li><p>打开命令行工具输入</p>
<pre><code class="bash language-bash">$ tiny init</code></pre></li>
<li><p>按照提示步骤逐步输入信息</p>
<p><img src="https://zos.alipayobjects.com/rmsportal/bXkeJVrvbxoeAnOEPVmM.gif" alt="" /></p></li>
</ol>
<blockquote>
  <p>注意： <code>项目名</code>为必填项，如果不填，将使用当前目录，但是会检测此目录是否是空目录。</p>
</blockquote>
<h3 id="初始化-tinyjs-插件库">初始化 Tiny.js 插件库</h3>
<ol>
<li><p>打开命令行工具输入</p>
<pre><code class=" bash language- bash">$ tiny plugin</code></pre></li>
<li><p>按照提示步骤逐步输入信息</p>
<p><img src="https://zos.alipayobjects.com/rmsportal/zLdwzpBzbQUNyLBpjjmK.gif" alt="" /></p></li>
</ol>
<blockquote>
  <p>注意：</p>
  <ul>
  <li><code>插件名</code>为必填项，会自动在开头补充<code>tinyjs-plugin-</code>，比如：输入<code>dust</code>，实际插件名是<code>tinyjs-plugin-dust</code></li>
  <li><code>插件类型</code> 实际上是选择插件是作为 Class 开发，还是作为 Module 开发。</li>
  </ul>
</blockquote>
<h2 id="资源文件管理">资源文件管理</h2>
<p>tiny-cli 提供一套资源管理方案，执行 <code>tiny resource</code> 一键管理，非常方便易用。</p>
<h3 id="生成-resourcejs">生成 Resource.js</h3>
<p>配置 <code>tiny-app.config.js</code> 文件：</p>
<pre><code class=" js language- js">module.exports = {
  ...

  // 资源文件所在项目目录，如果就在根目录，此参数给空即可，如果不是，格式如：“alipay/tiny/games/”
  appFold: '',

  // 生成的资源配置文件
  resourceName: 'Resource.js',
  ...
};</code></pre>
<p>其中 <code>appFold</code> 是资源文件所在的项目目录，比如：项目目录是 <code>myFirstGame</code>，那么就会去找 <code>myFirstGame/res</code> 下的所有目录及里面的资源。是的，<code>res</code> 是规定，项目下没有就无效。<br />
<code>resourceName</code> 配置的是 <code>Resource.js</code>，那么执行 <code>tiny resource</code> 就会在 <code>myFirstGame/src</code> 下生成 <code>Resource.js</code>，文件内容规则如下：</p>
<pre><code class=" js language- js">var RESOURCES = {

// images,
"s_bg_jpg": "res/images/bg.jpg",

// sound
};</code></pre>
<p>然后，你就可以通过全局变量 <code>RESOURCES</code> 来获取对应的资源，变量名规则是：<code>s_文件名_文件类型</code>，比如文件：mole.png，变量名就是：<code>s_mole_png</code>。</p>
<p>使用资源文件：</p>
<pre><code class=" js language- js">var background = Tiny.Sprite.fromImage(RESOURCES['s_bg_jpg']);</code></pre>
<h3 id="生成-tileset-文件">生成 tileset 文件</h3>
<p>配置 <code>tiny-app.config.js</code> 文件：</p>
<pre><code class=" js language- js">module.exports = {
  ...
  tileset: [{
    fold: 'res/images/animals',//默认为：{appFold}/res/images，自定义如：res/images/animals
    name: 'mole_tile',//默认为：tileset
    trim: false,//是否移除图片周边的透明空白，默认为：false
    padding: 2,//图片与图片的间距，默认为：0
    outFold: ''//默认为：{appFold}/res/images
  }, {
    fold: 'res/images/enemies',
  }],
  ...
};</code></pre>
<p>假设我们的项目目录是 <code>myFirstGame</code>，在根目录下执行 <code>tiny resource</code> 就会在 <code>myFirstGame/res/images</code> 下生成两个文件 <code>mole_tile.json</code> 和 <code>mole_tile.png</code>，生成的文件的文件名就是 <code>tiny-app.config.js</code> 里配置的 <code>tileset -&gt; name</code>。<br />
其中 <code>mole_tile.png</code> 是一张雪碧图，是组合了 <code>tileset -&gt; fold</code> 下的所有图片，<code>mole_tile.json</code> 是各个子图片的相关属性的定义，使用的方式也很简单。</p>
<p>了解更多，请移步 <a href="http://tinyjs.net/#/tutorial/advanced">进阶文档</a>「<code>displays-&gt;精灵-&gt;使用 tileset</code>」</p>
<h2 id="其他">其他</h2>
<p>Tiny.js 是一款轻量级 HTML5 2D 游戏引擎，<a href="http://tinyjs.net">了解更多？</a></p>